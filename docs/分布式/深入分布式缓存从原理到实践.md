# 1 缓存为王

页表(page table)和内存管理单元(MMU)负责将虚拟地址转化为页的物理地址。
页表负责记录哪些是物理页，哪些是虚拟页，以及这些页的页表条目(PTE)。
MMU是一个物理硬件，负责进行虚拟地址到物理地址的翻译，翻译过程中需要从页表获取页的
PTE，MMU也会使用翻译后备缓存(TLB)的缓存页号。

系统性能指标：响应时间、延迟时间、吞吐量，并发用户数和资源利用率等

### 浏览器缓存

Cache-Control/Exires 优先级高于 Last-Modified/ETag，当本地副本根据 Cache-Control/Expires 发现还在有效期，
就不会再次发送请求服务器询问修改时间(Last-Modified)或实体标识(e-tag)了。

主流的缓存算法：
- LRU(Least-Recently-Used): 替换掉最近请求最少的对象，实际中使用最广。cpu缓存淘汰和虚拟内存效果好，web应用欠佳
- LFU(Least-Frequently-Used): 缓存污染问题(一个先前流行的缓存对象会在缓存中驻留很长时间)
- LRU2
- 2Q(two queues)。多级缓存
- SIZE：替换占用空间最大的。也会有缓存污染
- LRU-Threashold：不超过某一个size 的，其他与 LRU 相同
- Log(Size) + LRU: 替换 size 最大的对象，当size相同按 LRU 替换
- Hyper-G: LFU 改进版，同时考虑上次访问时间和对象 size
- Pitkow/Recker: 替换最近最少使用对象，除非所有对象都是今天访问过的。如果是，替换调最大的对象
- Lowest-Latency-First: 替换下载时间最少的，最小化平均延迟
- Hybrid Hybrid: 保留效用最低的会被替换掉
- Lowest Relative Value(LRV): 替换保留效用最低的
- Adaptive Replacement Cache(ARC)
- Most Recently Used(MRU)
- First in First out(FIFO)
- Random Cache
