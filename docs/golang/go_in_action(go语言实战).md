# 5 Go 语言的类型系统


值得类型给编译器提供两个信息:

- 需要分配多少内存（规模）
- 这段内存表示什么

```
type Duration int64


func main() {
	var dur Duration
	dur = int64(100)  // cannot not use64(1000) (type int64) as type Duration
  // 编译器不会做隐式类型转换
}
```

go 语言有两种类型的接受者：值接受者和指针接受者。
值接受者获取的是副本（如果是指针也是指针指向的值的副本）

### 5.3 类型的本质

- 内置类型：数值类型、字符串、布尔类型。传递的副本
- 引用类型: 切片、映射、通道、接口和函数类型。通过复制传递应用类型值的副本，本质上就是共享底层数据结构
- 结构类型：非原始值应该总是用共享传递，而不是复制。

使用值接收还是指针接收不应该由该方法是否修改了接受到的值来决定，而应该基于该类型的本质。
一个例外是需要让类型值符合某个接口的时候。

接口是用来定义行为的类型，被定义的行为不由接口直接实现，而是通过方法由用户定义的类型实现。
如果用户定义的类型实现了某个接口声明的一组方法，那么这个用户定义的类型的值就可以赋值给这个接口类型的值。
这个赋值会把用户定义的类型的值存入接口类型的值。接口值的方法调用是一种多态。

嵌入类型：已有类型嵌入到新的类型里。内部类型和外部类型。如果没有重名的话，外部类型可以直接调用内部类型的方法。


# 6. 并发


GO并发同步模型来自通信顺序进程(Communicating Sequential Processes, CSP)的泛型(paradigm)。
CSP 是一种消息传递模型，通过在goroutine之间传递数据来传递消息，而不是通过对数据加锁来实现同步访问。
用于在 goroutine 之间同步和传递数据的关键数据类型叫做通道(channel)。

进程和线程：进程维护了应用程序运行时的内存地址空间、文件和设备的句柄以及线程。
