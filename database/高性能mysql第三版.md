# 1章：MySQL 架构与历史

读锁（共享锁）
写锁(排他锁)

原子性：一个事务必须被视为一个不可分割的最小工作单元
一致性：数据库总是从一个一致性的状态转换到另外一个一致性的状态。
隔离性：一个事务所做的修改在最终提交以前，对其他事务是不可见的。
持久性：一旦事务提交，其所做的修改就会永久保存到数据库中

四种隔离级别：
- READ UNCOMMITTED(未提交读): 事务中的修改，及时没有提交，对其他事务也都是可见的。
事务可以读取未提交的数据（脏读）。这个级别会导致很多问题，一般不用
- READ COMMITTED(提交读)：一个事务从开始直到提交之前，所做的任何修改对其他事务都是不可见的。
- REPEATABLE READ(可重复读,mysql默认级别)：解决了脏读问题，保证同一个事务中多次读取同样记录的结果都是一致的。无法解决幻读的问题
- SERIALIZABLE(可串行化):最高的隔离级别，通过强制事务串行执行，解决了幻读问题。会在读取的每一行数据上都加锁。 可能导致大量的超时和锁征用问题

多版本并发控制(MVCC)，典型的有乐观并发控制和悲观并发控制。

选择不同的存储引擎:
- 事务：InnoDB 是目前最稳定并且经过检验的选择
- 备份：如果需要在线热备份，InnoDB 就是最基本的选择
- 崩溃恢复

# 2 Mysql 基准测试

绘图：gnuplot，或者 R 绘图

集成式测试工具：ab, http_load, JMeter
单组件式测试工具：mysqlslap, sql-bench, super Smack, Database Test Suite, sysbench, mysql 内置benchmark 函数


# 3 服务器性能剖析
